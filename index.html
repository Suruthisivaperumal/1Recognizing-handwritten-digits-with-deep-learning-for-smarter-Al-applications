from IPython.display import HTML

html_code = """
<!DOCTYPE html>
<html>
<head>
  <title>Handwritten Digit Recognizer</title>
  <style>
    #canvas {
      border: 2px solid black;
    }
  </style>
</head>
<body>
  <h1>Handwritten Digit Recognizer</h1>
  <canvas id="canvas" width="280" height="280"></canvas>
  <br>
  <button onclick="clearCanvas()">Clear</button>
  <button onclick="predictDigit()">Predict</button>
  <p id="result"></p>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const resultElement = document.getElementById('result');

    let isDrawing = false;

    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseout', stopDrawing);

    function startDrawing(e) {
      isDrawing = true;
      ctx.beginPath();
      ctx.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
    }

    function draw(e) {
      if (!isDrawing) return;
      ctx.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
      ctx.stroke();
    }

    function stopDrawing() {
      isDrawing = false;
    }

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    function predictDigit() {
      // Replace with actual backend integration
      const prediction = Math.floor(Math.random() * 10); 
      resultElement.textContent = 'Predicted digit: ' + prediction;
    }
  </script>
</body>
</html>
"""

display(HTML(html_code)) # This will render the HTML in your Jupyter Notebook
